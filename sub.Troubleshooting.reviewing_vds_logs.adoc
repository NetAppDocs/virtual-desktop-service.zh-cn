---
sidebar: sidebar 
permalink: Troubleshooting.reviewing_vds_logs.html 
summary: 对失败的 VDS 操作进行故障排除的分步指南 
keywords:  
---
= 对失败的 VDS 操作进行故障排除




== 概述

由于 VDS 中的日志记录数量庞大，因此，在 Web UI 中不会公开这些日志记录。有关更多详细日志，请参见端点。下面介绍了这些日志。

在 VDS v5.4+ 中，日志位于以下文件夹路径中：

 C:\programdata\cloudworkspace
在先前版本的 VDS 中，它们可以位于以下路径中：

....
C:\Program Files\CloudWorkspace\
C:\Program Files\CloudJumper\
C:\Program Files\IndependenceIT\
....

NOTE: 文件类型也因 VDS 版本而异，日志文件为 .txt 或 .log 文件，这些文件位于上述路径的子文件夹中。



== 自动化日志



=== CW VM Automation Service 日志

 CwVmAutomationService.log
顺时针 VM 自动化服务是一项 Windows 服务，负责管理部署中的所有虚拟机。作为 Windows 服务，它始终在部署中运行，但有两种主要操作模式：计划任务模式和事件模式。

计划任务模式包含在计划中对 VM 执行的活动，包括收集规模估算和性能数据，重新启动 VM ，检查工作负载计划和实时扩展功能生成的状态（打开或关闭）与规则集。日志在第 5 列中表示这些操作类型，其名称类似于 " 每日操作 " ， " 每周操作 " 和 " 每日维护 " 。如果您要对诸如 " 为什么服务器 X 在昨天晚上凌晨 2 ： 00 重新启动 " 或 " 当我认为该服务器应该关闭时为什么会启动 " 等问题进行故障排除，则通常最好查看这些特定虚拟机的计划任务。

当用户或其他 VDS 服务（例如， CW 自动化服务）要求完成任务时，事件模式将激活。此类活动的示例包括：用户请求创建新服务器或 CW Automation ，请求检查要检查的服务器的大小和状态，因为工作空间中添加了更多用户。这些事件通常包含日志条目，并且事件名称为 " 创建服务器 " ，而虚拟机的实际名称恰好位于该事件旁边（例如：创建服务器 NNXTS2 ）。在对这些类型的事件进行故障排除时，通常最好滚动到日志底部，然后向上搜索虚拟机名称。然后，您可以向上滚动更多行以查看此过程的开始位置。



=== CW Automation Service 日志

 CWAutomationService.log
在管理 Workspace 部署的各个组件时，可以使用主要的 Windows 服务来管理此计算机自动化服务日志。它可运行管理用户，应用程序，数据设备和策略所需的任务。此外，如果需要更改部署中 VM 的大小，数量或状态， IT 可以为该 VM Automation Service 创建任务。

与顺时针 VM 自动化服务一样，顺时针自动化服务可同时执行已计划的任务和事件驱动型任务，后者的类型更频繁。此 CW Automation Service 的日志会从每一行开始，并显示正在处理的实体和操作（例如：启动服务器 NNXTS1 ），因此，从文件底部搜索实体名称是查找适用于此任务的特定日志行的最快方法。



=== CW 代理服务日志

 CwAgent.log
此 CW 代理服务将执行特定虚拟机本地的所有任务，包括检查虚拟机的资源级别和利用率，检查虚拟机是否具有有效的 TLS 流量证书，以及检查是否已达到强制重新启动期限。除了检查有关这些任务的详细信息之外，此日志还可用于检查虚拟机是否意外重新启动或网络或资源活动。



=== CWManagerX 日志

 CWManagerX.log
CWManagerX 是一种 Web 服务，可在本地部署和 VDS 全局控制平面之间提供通信链路。源自 VDS Web 应用程序或 VDS API 的任务和数据请求将通过此 Web 服务传递到本地部署。在该处，任务和请求会定向到相应的 Web 服务（如上所述），或者在极少数情况下直接定向到 Active Directory 。由于此日志主要是一个通信链路，因此在正常通信期间不会记录太多日志，但如果通信链路损坏或运行不正确，此日志将包含错误。



=== DC 配置日志

 DCConfig.log
DC Config 是一个 Windows 应用程序，可提供 VDS Web 应用程序界面中未显示的部署特定配置参数。DC 配置日志详细介绍了在 DC 配置中更改配置时运行的活动。



=== CAVDCDeployment 日志

 CAVDCDeployment.log
顺时针 VDC 部署是一款 Windows 应用程序，用于执行在 Azure 中创建部署所需的任务。此日志可跟踪 Cloud Workspace 窗口服务的配置，默认 GPO 以及路由和资源规则。



=== 其他日志

....
CwVmAutomationService-Installing.log
CwAgent-Installing.log
....
其余日志将跟踪上述 Windows 服务和应用程序的安装。由于在新版本针对特定部署时 VDS 服务会自动更新，因此这些日志会跟踪升级过程，因为在升级时，服务或应用程序通常需要关闭。如果您发现服务已持续停止，这些日志有助于确定升级到特定服务失败的发生原因是否为服务。在这些情况下，我们预计会在这些日志中看到一个错误，详细说明升级失败的原因。



=== 访问日志并查看信息

+image:troubleshooting1.png[""]

. VDS 会保留详细日志，并在 VDS 的部署页面的任务历史记录部分中公开其中一些日志。单击 View 可以显示列出任务的详细信息。
+
image:troubleshooting2.png[""]

. 有时，任务历史记录中的详细信息不足，无法识别真正的根发生原因。为了使 " 任务历史记录 " 部分保持可用，并且不会被所有已记录的事件所覆盖，此处仅显示部分任务信息。要深入了解，上述文本日志文件可以提供更多详细信息。
+
.. 要访问此日志，请导航到部署部分并单击 CMGR1 虚拟机旁边的齿轮图标，然后单击连接（如果是 CwAgent 日志，则连接到相应的虚拟机）


+
image:troubleshooting3.png[""]

. 连接到 Platform Sever （如 CMGR1 ）时，您不会自动登录到服务器（与连接到租户中的服务器不同）。您需要使用 Level3 .tech 帐户登录。
+
image:troubleshooting4.png[""]

. 然后，导航到上述路径并打开日志文件。
+
image:troubleshooting5.png[""]

. 此文本文件包含所有事件的日志，这些事件以从旧到最新的形式列出：
+
image:troubleshooting6.png[""]

. 在使用 NetApp VDS 创建支持案例时，如果能够提供此处发现的错误，将显著加快解决问题的速度。

